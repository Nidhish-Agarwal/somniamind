import{u as k,r as p,a1 as C,bi as M,bj as S,bk as x,j as e,E as r,bl as E,C as $,D as P,U as L,a as R,ah as A,ac as D,B as b,$ as z,bm as B,a2 as i}from"./index-xSfxuKuS.js";import{M as f}from"./mail-DI9oCixR.js";function Y(){const l=k(),[n,o]=p.useState(!1),[a,c]=p.useState(!1),g=C(),{register:j,handleSubmit:v,formState:{errors:m},watch:w}=M({resolver:S(x.object({email:x.string().email("Please enter a valid email")}))}),y=w("email"),N=async t=>{var s,d,h;try{o(!0),await g.post("/auth/forgot-password",{email:t.email}),c(!0),i.success("Check your inbox/spam for reset instructions.")}catch(u){((s=u.response)==null?void 0:s.status)===429?i.error("Too many requests. Please wait before trying again."):i.error(((h=(d=u.response)==null?void 0:d.data)==null?void 0:h.message)||"Something went wrong. Please try again later.")}finally{o(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-indigo-900 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[[...Array(8)].map((t,s)=>e.jsx("div",{className:"absolute rounded-full bg-gradient-to-br from-purple-400/20 to-pink-400/20 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${15+Math.random()*25}px`,height:`${15+Math.random()*25}px`,animationDelay:`${Math.random()*3}s`,animationDuration:`${4+Math.random()*2}s`}},s)),e.jsx("div",{className:"absolute top-20 right-20 opacity-20",children:e.jsx("div",{className:"relative",children:[...Array(4)].map((t,s)=>e.jsx(r,{className:"absolute w-2 h-2 text-cyan-300 animate-twinkle",style:{left:`${Math.cos(s*Math.PI/2)*30}px`,top:`${Math.sin(s*Math.PI/2)*30}px`,animationDelay:`${s*.3}s`}},s))})})]}),e.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center p-8",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("button",{onClick:()=>l("/login"),className:"flex items-center text-purple-300 hover:text-white transition-colors duration-200 mb-8 group",children:[e.jsx(E,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform duration-200"}),"Back to Login"]}),e.jsxs($,{className:"backdrop-blur-xl bg-white/5 border border-white/20 shadow-2xl rounded-3xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 to-cyan-500/5"}),e.jsxs(P,{className:"relative z-10 text-center p-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-full p-3 shadow-lg",children:e.jsx(f,{className:"w-8 h-8 text-white"})})}),e.jsx(L,{className:"text-2xl font-bold text-white mb-2",children:a?"Check Your Realm":"Restore Your Access"}),e.jsx("p",{className:"text-purple-200 opacity-90 text-sm",children:a?"A mystical recovery link has been sent to your ethereal address":"Enter your email to receive a password reset link"})]}),e.jsxs(R,{className:"relative z-10 p-8 pt-0",children:[a?e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"bg-green-500/20 border border-green-400/30 rounded-2xl p-6 backdrop-blur-sm",children:[e.jsx(B,{className:"w-12 h-12 text-green-400 mx-auto mb-4 animate-pulse"}),e.jsx("h3",{className:"text-lg font-semibold text-green-300 mb-2",children:"Recovery Link Sent!"}),e.jsxs("p",{className:"text-green-200 text-sm",children:["We've sent a password reset link to"," ",e.jsx("span",{className:"font-medium",children:y})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-purple-200 text-sm opacity-80",children:"Check your inbox/spam and follow the instructions to restore your access to the dream realm."}),e.jsx(b,{onClick:()=>c(!1),variant:"outline",className:"w-full bg-white/5 border-white/30 text-purple-200 hover:bg-white/10 hover:text-white rounded-xl h-10 transition-all duration-300",children:"Try Different Email"})]})]}):e.jsxs("form",{onSubmit:v(N),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(A,{className:"text-purple-200 font-medium flex items-center",children:[e.jsx(r,{className:"w-4 h-4 mr-2 text-purple-400"}),"Your Ethereal Email"]}),e.jsxs("div",{className:"relative group",children:[e.jsx(D,{...j("email"),type:"email",placeholder:"Enter your cosmic address...",className:"bg-white/10 backdrop-blur-sm text-white border border-white/30 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/50 rounded-xl h-12 text-lg transition-all duration-300 placeholder:text-purple-300/60 group-hover:bg-white/15"}),e.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-purple-500/0 to-pink-500/0 group-focus-within:from-purple-500/10 group-focus-within:to-pink-500/10 transition-all duration-500 pointer-events-none"})]}),m.email&&e.jsxs("p",{className:"text-pink-400 text-sm animate-pulse flex items-center",children:[e.jsx(r,{className:"w-3 h-3 mr-1"}),m.email.message]})]}),e.jsx(b,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-purple-600 via-pink-600 to-cyan-600 hover:from-purple-500 hover:via-pink-500 hover:to-cyan-500 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-xl shadow-lg disabled:opacity-70 disabled:hover:scale-100",disabled:n,children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(z,{className:"w-5 h-5 animate-spin mr-2"}),e.jsx("span",{className:"animate-pulse",children:"Casting spell..."})]}):e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(f,{className:"w-5 h-5 mr-2"}),"Send Recovery Link"]})})]}),e.jsx("div",{className:"text-center mt-8 pt-6 border-t border-white/20",children:e.jsxs("p",{className:"text-purple-200 text-sm",children:["Remember your password?"," ",e.jsx("button",{onClick:()=>l("/login"),className:"text-cyan-400 hover:text-cyan-300 font-medium transition-colors duration-200 hover:underline",children:"Return to login"})]})})]})]})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes twinkle {
          0%,
          100% {
            opacity: 0.2;
          }
          50% {
            opacity: 0.8;
          }
        }
        .animate-twinkle {
          animation: twinkle 3s ease-in-out infinite;
        }
      `})]})}export{Y as default};
